---
/**
 * Panel — Console-style container component.
 * PRD 002: Theme and Design Foundation
 *
 * A reusable dark-surface panel with subtle border glow.
 * Accepts slotted content and an optional heading.
 *
 * @example
 * <Panel heading="System Status">
 *   <p>All systems nominal.</p>
 * </Panel>
 */
interface Props {
  /** Optional heading displayed at the top of the panel */
  heading?: string;
  /** HTML heading level for the panel heading (default: 2) */
  headingLevel?: 2 | 3 | 4;
  /** Additional CSS class names */
  class?: string;
}

const { heading, headingLevel = 2, class: className = "" } = Astro.props;

const HeadingTag = `h${headingLevel}` as "h2" | "h3" | "h4";
---

<section class:list={["panel", "fade-in-section", className]} role="region" aria-label={heading}>
  {heading && <HeadingTag class="panel__heading">{heading}</HeadingTag>}
  <div class="panel__body">
    <slot />
  </div>
</section>

<style>
  .panel {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-panel);
    overflow: hidden;
    transition:
      border-color var(--transition-base),
      box-shadow var(--transition-base);
  }

  .panel__heading {
    padding: 0.75rem 1.25rem;
    font-size: var(--text-sm);
    font-weight: var(--weight-semibold);
    letter-spacing: var(--tracking-wider);
    text-transform: uppercase;
    color: var(--color-text-muted);
    border-bottom: 1px solid var(--color-border);
    background: var(--color-surface-alt);
    transition: color var(--transition-base);
  }

  .panel__body {
    padding: 1.25rem;
  }

  /* Subtle glow on hover — atmospheric effect */
  .panel:hover {
    border-color: var(--color-hover-border);
    box-shadow: var(--shadow-hover), var(--shadow-panel);
  }

  .panel:hover .panel__heading {
    color: var(--color-text);
  }

  /* Brighten body text on card hover */
  .panel:hover .panel__body :global(p),
  .panel:hover .panel__body :global(dd),
  .panel:hover .panel__body :global(address) {
    color: var(--color-text);
  }
</style>
