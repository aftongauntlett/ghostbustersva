---
/**
 * Donate page — Support the team.
 * PRD 007: Join, Contact & Donate Pages Redesign
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import Panel from "../components/ui/Panel.astro";
import Button from "../components/ui/Button.astro";
import { swagItems } from "../lib/swag";
import { getResponsiveImageAttrs } from "../lib/images";

const swagImageAttrs = await Promise.all(
  swagItems.map((item) =>
    getResponsiveImageAttrs({
      src: item.image,
      widths: [320, 480, 640],
      sizes: "(max-width: 768px) 50vw, 20vw",
      width: 640,
      height: 640,
      quality: 72,
    }),
  ),
);
---

<BaseLayout
  title="Donate"
  description="Support Ghostbusters Virginia with donations, Proton Pets participation, and official merch purchases."
  canonical="/donate"
  ogTitle="Donate | Ghostbusters Virginia"
  ogDescription="Help fund charity events, community outreach, and hospital visits through Ghostbusters Virginia."
  ogImage="/images/gbv-community-photo.jpg"
>
  <section class="container page" aria-labelledby="donate-title">
    <h1 id="donate-title" class="page-title">Support Ghostbusters Virginia</h1>

    <p class="page-intro">
      Your donations help us maintain our equipment, attend community events, and support the
      charitable causes we care about. Every contribution — big or small — makes a difference.
    </p>

    <Panel heading="Support Us">
      <p>Donation integration coming soon. Thank you for your patience!</p>
      <div class="cta-row">
        <Button variant="primary" disabled>Donate Now (Coming Soon)</Button>
      </div>
    </Panel>

    <Panel heading="Proton Pets">
      <p>
        Every April, GBVA leads <strong>Proton Pets</strong> — a month-long fundraiser calling on Ghostbusters
        franchises around the world to support local pet shelters and pet pantries. Dogs and cats living
        together equals <strong>MASS CARING!</strong>
      </p>
      <div class="cta-row">
        <Button variant="secondary" href="https://whoyagonnacall.org/proton-pets" external>
          Learn About Proton Pets
        </Button>
      </div>
    </Panel>

    <Panel heading="GBVA Swag">
      <p>
        Show your support by grabbing some merch! Every purchase helps fund our community events and
        charitable efforts. Click any design to buy.
      </p>
      <div class="swag-grid">
        {
          swagItems.map((item, index) => (
            <a href={item.url} target="_blank" rel="noopener noreferrer" class="swag-item">
              <img
                src={swagImageAttrs[index].src}
                srcset={swagImageAttrs[index].srcset}
                sizes={swagImageAttrs[index].sizes}
                alt={item.alt}
                loading="lazy"
                decoding="async"
                width={swagImageAttrs[index].width}
                height={swagImageAttrs[index].height}
                class="swag-thumb"
              />
              <span class="sr-only"> (opens in new tab)</span>
            </a>
          ))
        }
      </div>
      <p class="swag-note">
        You can also browse the full collection on our TeePublic store for t-shirts, hoodies,
        stickers, magnets, pins, and more.
      </p>
      <div class="cta-row">
        <Button variant="secondary" href="https://www.teepublic.com/user/ghostbustersva" external>
          Visit Our Store
        </Button>
      </div>
    </Panel>
  </section>
</BaseLayout>

<style>
  /* ── Panel sizing ── */
  .page :global(.panel) {
    width: 100%;
  }

  .page :global(.panel) p {
    text-align: center;
  }

  .cta-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-md);
    margin-top: var(--space-md);
  }

  /* ── Swag note ── */
  .swag-note {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    font-style: italic;
    text-align: center;
    margin-top: var(--space-lg);
  }
</style>
